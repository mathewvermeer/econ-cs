library(ggplot2)
library(plyr)
library(lubridate)

ransomware <- read.csv("https://ransomwaretracker.abuse.ch/feeds/csv/",header = TRUE,sep = ",",skip = 8)
ransomware$date_rounded <- format(as.Date(ransomware$X..Firstseen..UTC.), "%Y-%m")
ransomware <- ransomware[!(is.na(ransomware$date_rounded) | ransomware$date_rounded==""), ]
counts <- count(ransomware, c("date_rounded", "Malware"))
counts$date_rounded <- paste(counts$date_rounded, "-1", sep = "")
counts$date_rounded <- as.Date(counts$date_rounded)

ggplot(counts, aes(x = date_rounded, y = freq, colour = Malware)) + 
  geom_line(size=2) + 
  ylab(label="Number of detections") + 
  xlab("Month")

latest <- counts[year(counts$date_rounded) == 2017, ]

ggplot(latest, aes(x = date_rounded, y = freq, colour = Malware)) + 
  geom_line(size=2) + 
  ylab(label="Number of detections") + 
  xlab("Month")
  